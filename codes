if not _G.key or _G.key == "" then
    warn("[ JOPA ] ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Redeem Key / ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Script ‡∏°‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î")
    game.Players.LocalPlayer:Kick("[ JOPA ] ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Redeem Key / ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Script ‡∏°‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î")
    return
end

if not _G.Setting or not _G.Setting.WebhookURL or _G.Setting.WebhookURL == "" then
    warn("[ JOPA ] ‡πÑ‡∏°‡πà‡∏û‡∏ö WebhookURL ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô _G.Setting.WebhookURL")
    return
end

local HttpService = game:GetService("HttpService")
local function sendDiscord(data)
    local json = HttpService:JSONEncode(data)
    request({
        Url = _G.Setting.WebhookURL,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = json
    })
end

local function sendStatus()
    local player = game.Players.LocalPlayer
    local money = "N/A"
    local bank = "N/A"

    -- ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ Money/Bank ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÉ‡∏ô leaderstats
    if player:FindFirstChild("leaderstats") then
        local stats = player.leaderstats
        if stats:FindFirstChild("Money") then
            money = tostring(stats.Money.Value)
        end
        if stats:FindFirstChild("Bank") then
            bank = tostring(stats.Bank.Value)
        end
    end

local function sendStatus()
    local player = game.Players.LocalPlayer
    local embed = {
        ["username"] = "[ JOPA ] BlockSpin Logger",
        ["embeds"] = {{
            ["title"] = "üìä Player Status",
            ["color"] = 65280,
            ["fields"] = {
                {["name"] = "üë§ User", ["value"] = player.Name, ["inline"] = true},
                {["name"] = "‚úÖ Status", ["value"] = "‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå", ["inline"] = true},
                {["name"] = "üí∞ Money", ["value"] = tostring(player:FindFirstChild("leaderstats") and player.leaderstats.Money.Value or "N/A"), ["inline"] = true},
                {["name"] = "üè¶ Bank", ["value"] = tostring(player:FindFirstChild("leaderstats") and player.leaderstats.Bank.Value or "N/A"), ["inline"] = true},
            },
            ["thumbnail"] = {["url"] = "https://img2.pic.in.th/pic/file_000000007ca061f7a4998f8f14959e56-removebg-preview.png"}, -- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô
            ["image"] = {["url"] = "https://img2.pic.in.th/pic/banner-jopa-studiodc27e67dee058684.gif"},     -- ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°
            ["footer"] = {["text"] = "‡πÄ‡∏ß‡∏•‡∏≤: " .. os.date("%Y-%m-%d %H:%M:%S")}
        }}
    }
    sendDiscord(embed)
end

while task.wait(600) do
    pcall(sendStatus)
end
