-- ======================================
-- üìå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Key ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
-- ======================================
if not _G.key or _G.key == "" then
    warn("[ JOPA ] ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Redeem Key / ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Script ‡∏°‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î")
    game.Players.LocalPlayer:Kick("[ JOPA ] ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Redeem Key / ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Script ‡∏°‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î")
    return
end

-- ======================================
-- üìå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Webhook
-- ======================================
if not _G.WebhookURL or _G.WebhookURL == "" then
    warn("[ JOPA ] ‡πÑ‡∏°‡πà‡∏û‡∏ö WebhookURL ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô _G.WebhookURL")
    return
end

local function getMoney()
    local player = game.Players.LocalPlayer
    local moneyLabel = player:WaitForChild("PlayerGui"):FindFirstChildWhichIsA("ScreenGui", true)

    local cash = "N/A"
    local bank = "N/A"

    -- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß (HUD ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô)
    local cashGui = player.PlayerGui:FindFirstChild("Cash", true)
    if cashGui and cashGui:IsA("TextLabel") then
        cash = cashGui.Text
    end

    -- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ (ATM GUI)
    for _, gui in pairs(player.PlayerGui:GetDescendants()) do
        if gui:IsA("TextLabel") and string.find(gui.Text, "Bank Balance") then
            bank = gui.Text
            break
        end
    end

    return cash, bank
end

-- ======================================
-- üìå ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Discord
-- ======================================
local HttpService = game:GetService("HttpService")
local function sendDiscord(data)
    local json = HttpService:JSONEncode(data)
    request({
        Url = _G.WebhookURL,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = json
    })
end

-- ======================================
-- üìå ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á Embed ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÇ‡∏•‡πÇ‡∏Å‡πâ + ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå
-- ======================================
local function sendStatus()
    local player = game.Players.LocalPlayer
    local embed = {
        ["username"] = "[ JOPA ] BlockSpin Logger",
        ["embeds"] = {{
            ["title"] = "üìä Player Status",
            ["color"] = 65280,
            ["fields"] = {
                {["name"] = "üë§ User", ["value"] = player.Name, ["inline"] = true},
                {["name"] = "‚úÖ Status", ["value"] = "‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå", ["inline"] = true},
                {["name"] = "üí∞ Money", ["value"] = tostring(player:FindFirstChild("leaderstats") and player.leaderstats.Money.Value or "N/A"), ["inline"] = true},
                {["name"] = "üè¶ Bank", ["value"] = tostring(player:FindFirstChild("leaderstats") and player.leaderstats.Bank.Value or "N/A"), ["inline"] = true},
            },
            ["thumbnail"] = {["url"] = "https://img2.pic.in.th/pic/file_000000007ca061f7a4998f8f14959e56-removebg-preview.png"}, -- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô
            ["image"] = {["url"] = "https://img2.pic.in.th/pic/banner-jopa-studiodc27e67dee058684.gif"},     -- ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°
            ["footer"] = {["text"] = "‡πÄ‡∏ß‡∏•‡∏≤: " .. os.date("%Y-%m-%d %H:%M:%S")}
        }}
    }
    sendDiscord(embed)
end

-- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ó‡∏∏‡∏Å ‡πÜ 10 ‡∏ô‡∏≤‡∏ó‡∏µ
while task.wait(600) do
    pcall(sendStatus)
end
